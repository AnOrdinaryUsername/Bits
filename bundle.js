!function(t){var e={};function n(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(o,s,function(e){return t[e]}.bind(null,s));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);class o{constructor(t){this.getRandomDigit=()=>Math.floor(Math.random()*this.selection.oldBase).toString(this.selection.oldBase).toUpperCase(),this.erasePreviousQuestion=()=>{this._question=""},this.generateProblem=(t=4)=>{for(let e=0;e<t;++e)this._question+=this.getRandomDigit();const e=this.selection.oldBase.toString(),n=this.selection.newBase.toString();document.getElementById("question").textContent="",document.getElementById("question").textContent=this.question,document.getElementById("base-1").textContent=e,document.getElementById("base-2").textContent=n},this.pushQuestionGotWrong=t=>{this._wrongAnswers.push(t),console.log(this._wrongAnswers)},this._wrongAnswers=[],this._question="",this.selection=t}get question(){return this._question}}class s{constructor(){this.confirmChoice=t=>{document.getElementById("confirm-choices").addEventListener("click",()=>{const e=document.getElementById("base-select-1").value,n=document.getElementById("base-select-2").value;e!==n&&(t.selection._oldBase=parseInt(e),t.selection._newBase=parseInt(n),document.getElementById("choose-practice").classList.toggle("hide-display"),t.generateProblem(),document.getElementById("practice-problems").classList.toggle("hide-display"),document.getElementById("practice-problems").classList.toggle("flex-column"))})},this._amount=4,this._oldBase=0,this._newBase=0}get oldBase(){return this._oldBase}get newBase(){return this._newBase}}var i;!function(t){t[t.Hexadecimal=16]="Hexadecimal",t[t.Binary=2]="Binary"}(i||(i={}));class r{constructor(t,e){this.isCorrect=()=>(this.calculateAnswer(),this.solution===this._userSolution.grabInput().replace(/\s/g,"")),this.calculateAnswer=()=>{const t=this._randProblem.selection.oldBase,e=this._randProblem.selection.newBase,n=parseInt(this._randProblem.question,t),o=n.toString(e);t!==i.Hexadecimal||e!==i.Binary||o.length===4*n?this.solution=o:this.solution=o.padStart(i.Hexadecimal,"0")},this._userSolution=t,this._randProblem=e}}class u{constructor(){this.incrementRightCount=()=>{this._rightCount+=1},this.incrementWrongCount=()=>{this._wrongCount+=1},this.resetScore=()=>{this._rightCount=0,this._wrongCount=0},this._rightCount=0,this._wrongCount=0}}class l{constructor(t){this.onSubmit=()=>{document.getElementById("user-answer").addEventListener("submit",t=>{if(t.preventDefault(),!0===this._submitState)return;const e=new r(this,this._currentProblem),n=document.querySelector(".tip");null!==this.grabInput()?(e.isCorrect()?(n.textContent="Woah epic move!",this._userScore.incrementRightCount()):(n.textContent="Sadge not right",this._userScore.incrementWrongCount(),this._currentProblem.pushQuestionGotWrong(this._currentProblem.question)),document.querySelector(".test").textContent=e.solution,document.querySelector(".test2").textContent=e.solution.length.toString(),document.querySelector(".result button").classList.toggle("hide-visibility"),this._submitState=!0):n.textContent="You didn't enter a value! >:("})},this.showNextQuestion=()=>{document.querySelector(".result button").addEventListener("click",()=>{this._submitState=!1,this._currentProblem.erasePreviousQuestion(),this._currentProblem.generateProblem(),document.querySelector(".result button").classList.toggle("hide-visibility")})},this.grabInput=()=>document.getElementById("user-input").value,this._currentProblem=t,this._userScore=new u,this._submitState=!1}}(()=>{const t=new s,e=new o(t),n=new l(e);t.confirmChoice(e),n.onSubmit(),n.showNextQuestion()})()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXIvUHJvYmxlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci9Vc2VyQ2hvaWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVyL0Fuc3dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci9TY29yZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci9Vc2VySW5wdXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUHJvYmxlbSIsInNlbGVjdCIsImdldFJhbmRvbURpZ2l0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidGhpcyIsInNlbGVjdGlvbiIsIm9sZEJhc2UiLCJ0b1N0cmluZyIsInRvVXBwZXJDYXNlIiwiZXJhc2VQcmV2aW91c1F1ZXN0aW9uIiwiX3F1ZXN0aW9uIiwiZ2VuZXJhdGVQcm9ibGVtIiwiYW1vdW50IiwibmV3QmFzZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0ZXh0Q29udGVudCIsInF1ZXN0aW9uIiwicHVzaFF1ZXN0aW9uR290V3JvbmciLCJfd3JvbmdBbnN3ZXJzIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJVc2VyQ2hvaWNlIiwiY29uZmlybUNob2ljZSIsImZpcnN0UXVlc3Rpb24iLCJhZGRFdmVudExpc3RlbmVyIiwidW5jb252ZXJ0ZWRCYXNlIiwiY29udmVydGVkQmFzZSIsIl9vbGRCYXNlIiwicGFyc2VJbnQiLCJfbmV3QmFzZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl9hbW91bnQiLCJCYXNlIiwiQW5zd2VyIiwiaW5wdXRPYmoiLCJxdWVzdGlvbk9iaiIsImlzQ29ycmVjdCIsImNhbGN1bGF0ZUFuc3dlciIsInNvbHV0aW9uIiwiX3VzZXJTb2x1dGlvbiIsImdyYWJJbnB1dCIsInJlcGxhY2UiLCJfcmFuZFByb2JsZW0iLCJIZXhhZGVjaW1hbCIsIkJpbmFyeSIsImxlbmd0aCIsInBhZFN0YXJ0IiwiU2NvcmUiLCJpbmNyZW1lbnRSaWdodENvdW50IiwiX3JpZ2h0Q291bnQiLCJpbmNyZW1lbnRXcm9uZ0NvdW50IiwiX3dyb25nQ291bnQiLCJyZXNldFNjb3JlIiwicHJvYmxlbSIsIm9uU3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0IiwiX3N1Ym1pdFN0YXRlIiwiYSIsIl9jdXJyZW50UHJvYmxlbSIsInRpcCIsInF1ZXJ5U2VsZWN0b3IiLCJfdXNlclNjb3JlIiwic2hvd05leHRRdWVzdGlvbiIsImNob2ljZXMiLCJpbnB1dCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxF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b0JBUlIiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IFVzZXJDaG9pY2UgZnJvbSBcIi4vVXNlckNob2ljZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9ibGVtIHtcbiAgcHJpdmF0ZSBfd3JvbmdBbnN3ZXJzOiBzdHJpbmdbXTtcbiAgcHJpdmF0ZSBfcXVlc3Rpb246IHN0cmluZztcbiAgcHVibGljIHNlbGVjdGlvbjogVXNlckNob2ljZTtcblxuICBjb25zdHJ1Y3RvcihzZWxlY3Q6IFVzZXJDaG9pY2UpIHtcbiAgICB0aGlzLl93cm9uZ0Fuc3dlcnMgPSBbXTtcbiAgICB0aGlzLl9xdWVzdGlvbiA9IFwiXCI7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Q7XG4gIH1cblxuICBwcml2YXRlIGdldFJhbmRvbURpZ2l0ID0gKCk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgcmFuZE51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuc2VsZWN0aW9uLm9sZEJhc2UpO1xuXG4gICAgcmV0dXJuIHJhbmROdW0udG9TdHJpbmcodGhpcy5zZWxlY3Rpb24ub2xkQmFzZSkudG9VcHBlckNhc2UoKTtcbiAgfTtcblxuICBwdWJsaWMgZXJhc2VQcmV2aW91c1F1ZXN0aW9uID0gKCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX3F1ZXN0aW9uID0gXCJcIjtcbiAgfTtcblxuICBwdWJsaWMgZ2VuZXJhdGVQcm9ibGVtID0gKGFtb3VudCA9IDQpOiB2b2lkID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICB0aGlzLl9xdWVzdGlvbiArPSB0aGlzLmdldFJhbmRvbURpZ2l0KCk7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkQmFzZSA9IHRoaXMuc2VsZWN0aW9uLm9sZEJhc2UudG9TdHJpbmcoKTtcbiAgICBjb25zdCBuZXdCYXNlID0gdGhpcy5zZWxlY3Rpb24ubmV3QmFzZS50b1N0cmluZygpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxdWVzdGlvblwiKS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxdWVzdGlvblwiKS50ZXh0Q29udGVudCA9IHRoaXMucXVlc3Rpb247XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYXNlLTFcIikudGV4dENvbnRlbnQgPSBvbGRCYXNlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFzZS0yXCIpLnRleHRDb250ZW50ID0gbmV3QmFzZTtcbiAgfTtcblxuICBwdWJsaWMgcHVzaFF1ZXN0aW9uR290V3JvbmcgPSAocXVlc3Rpb246IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX3dyb25nQW5zd2Vycy5wdXNoKHF1ZXN0aW9uKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLl93cm9uZ0Fuc3dlcnMpO1xuICB9O1xuXG4gIHB1YmxpYyBnZXQgcXVlc3Rpb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fcXVlc3Rpb247XG4gIH1cbn1cbiIsImltcG9ydCBQcm9ibGVtIGZyb20gXCIuL1Byb2JsZW1cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckNob2ljZSB7XG4gIHByaXZhdGUgX2Ftb3VudDogbnVtYmVyO1xuICBwcml2YXRlIF9vbGRCYXNlOiBudW1iZXI7IC8vIFRoZSBiYXNlIHRoYXQgd2Ugd2FudCB0byBjb252ZXJ0LlxuICBwcml2YXRlIF9uZXdCYXNlOiBudW1iZXI7IC8vIFRoZSBuZXcgYmFzZSBjb252ZXJ0ZWQgZnJvbSB0aGUgb2xkIGJhc2UuXG5cbiAgLy8gQmluYXJ5LCBPY3RhbCwgRGVjaW1hbCwgSGV4YWRlY2ltYWxcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fYW1vdW50ID0gNDtcbiAgICB0aGlzLl9vbGRCYXNlID0gMDtcbiAgICB0aGlzLl9uZXdCYXNlID0gMDtcbiAgfVxuXG4gIHB1YmxpYyBjb25maXJtQ2hvaWNlID0gKGZpcnN0UXVlc3Rpb246IFByb2JsZW0pOiB2b2lkID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmZpcm0tY2hvaWNlc1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdW5jb252ZXJ0ZWRCYXNlID0gKDxIVE1MU2VsZWN0RWxlbWVudD4oXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFzZS1zZWxlY3QtMVwiKVxuICAgICAgKSkudmFsdWU7XG5cbiAgICAgIGNvbnN0IGNvbnZlcnRlZEJhc2UgPSAoPEhUTUxTZWxlY3RFbGVtZW50PihcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYXNlLXNlbGVjdC0yXCIpXG4gICAgICApKS52YWx1ZTtcblxuICAgICAgaWYgKHVuY29udmVydGVkQmFzZSA9PT0gY29udmVydGVkQmFzZSkgcmV0dXJuO1xuXG4gICAgICBmaXJzdFF1ZXN0aW9uLnNlbGVjdGlvbi5fb2xkQmFzZSA9IHBhcnNlSW50KHVuY29udmVydGVkQmFzZSk7XG4gICAgICBmaXJzdFF1ZXN0aW9uLnNlbGVjdGlvbi5fbmV3QmFzZSA9IHBhcnNlSW50KGNvbnZlcnRlZEJhc2UpO1xuXG4gICAgICBkb2N1bWVudFxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJjaG9vc2UtcHJhY3RpY2VcIilcbiAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRlLWRpc3BsYXlcIik7XG5cbiAgICAgIGZpcnN0UXVlc3Rpb24uZ2VuZXJhdGVQcm9ibGVtKCk7XG5cbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChcInByYWN0aWNlLXByb2JsZW1zXCIpXG4gICAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZS1kaXNwbGF5XCIpO1xuXG4gICAgICBkb2N1bWVudFxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJwcmFjdGljZS1wcm9ibGVtc1wiKVxuICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImZsZXgtY29sdW1uXCIpO1xuICAgIH0pO1xuICB9O1xuXG4gIHB1YmxpYyBnZXQgb2xkQmFzZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9vbGRCYXNlO1xuICB9XG5cbiAgcHVibGljIGdldCBuZXdCYXNlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX25ld0Jhc2U7XG4gIH1cbn1cbiIsImltcG9ydCBQcm9ibGVtIGZyb20gXCIuL1Byb2JsZW1cIjtcbmltcG9ydCBVc2VySW5wdXQgZnJvbSBcIi4vVXNlcklucHV0XCI7XG5cbmVudW0gQmFzZSB7XG4gIEhleGFkZWNpbWFsID0gMTYsXG4gIEJpbmFyeSA9IDIsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFuc3dlciB7XG4gIHB1YmxpYyBzb2x1dGlvbjogc3RyaW5nO1xuICBwcml2YXRlIF91c2VyU29sdXRpb246IFVzZXJJbnB1dDtcbiAgcHJpdmF0ZSBfcmFuZFByb2JsZW06IFByb2JsZW07XG5cbiAgY29uc3RydWN0b3IoaW5wdXRPYmo6IFVzZXJJbnB1dCwgcXVlc3Rpb25PYmo6IFByb2JsZW0pIHtcbiAgICB0aGlzLl91c2VyU29sdXRpb24gPSBpbnB1dE9iajtcbiAgICB0aGlzLl9yYW5kUHJvYmxlbSA9IHF1ZXN0aW9uT2JqO1xuICB9XG5cbiAgcHVibGljIGlzQ29ycmVjdCA9ICgpOiBib29sZWFuID0+IHtcbiAgICB0aGlzLmNhbGN1bGF0ZUFuc3dlcigpO1xuICAgIC8vIHJlcGxhY2UoKSBoYXMgYSByZWdleCB0aGF0IHJlbW92ZXMgYWxsIHdoaXRlc3BhY2VzLlxuICAgIHJldHVybiB0aGlzLnNvbHV0aW9uID09PSB0aGlzLl91c2VyU29sdXRpb24uZ3JhYklucHV0KCkucmVwbGFjZSgvXFxzL2csIFwiXCIpO1xuICB9O1xuXG4gIHByaXZhdGUgY2FsY3VsYXRlQW5zd2VyID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IG9sZEJhc2UgPSB0aGlzLl9yYW5kUHJvYmxlbS5zZWxlY3Rpb24ub2xkQmFzZTtcbiAgICBjb25zdCBuZXdCYXNlID0gdGhpcy5fcmFuZFByb2JsZW0uc2VsZWN0aW9uLm5ld0Jhc2U7XG4gICAgY29uc3QgcXVlc3Rpb24gPSBwYXJzZUludCh0aGlzLl9yYW5kUHJvYmxlbS5xdWVzdGlvbiwgb2xkQmFzZSk7XG5cbiAgICBjb25zdCBzb2x1dGlvbiA9IHF1ZXN0aW9uLnRvU3RyaW5nKG5ld0Jhc2UpO1xuXG4gICAgLy8gQSBuaWJibGUgaXMgYSA0LWJpdCBncm91cCB1c2VkIHRvIGRlbm90ZSBhIHNpbmdsZSBoZXggZGlnaXQuXG4gICAgY29uc3QgTklCQkxFID0gNDtcbiAgICBpZiAob2xkQmFzZSA9PT0gQmFzZS5IZXhhZGVjaW1hbCAmJiBuZXdCYXNlID09PSBCYXNlLkJpbmFyeSkge1xuICAgICAgaWYgKHNvbHV0aW9uLmxlbmd0aCAhPT0gcXVlc3Rpb24gKiBOSUJCTEUpIHtcbiAgICAgICAgLy8gUGFkIG1pc3NpbmcgemVyb3MgZm9yIG5ldyBiaW5hcnkgbnVtYmVyLlxuICAgICAgICAvLyB0b1N0cmluZygyKSBkb2Vzbid0IGluY2x1ZGUgbGVhZGluZyB6ZXJvcy5cbiAgICAgICAgdGhpcy5zb2x1dGlvbiA9IHNvbHV0aW9uLnBhZFN0YXJ0KEJhc2UuSGV4YWRlY2ltYWwsIFwiMFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc29sdXRpb24gPSBzb2x1dGlvbjtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjb3JlIHtcbiAgcHJpdmF0ZSBfcmlnaHRDb3VudDogbnVtYmVyO1xuICBwcml2YXRlIF93cm9uZ0NvdW50OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fcmlnaHRDb3VudCA9IDA7XG4gICAgdGhpcy5fd3JvbmdDb3VudCA9IDA7XG4gIH1cblxuICBwdWJsaWMgaW5jcmVtZW50UmlnaHRDb3VudCA9ICgpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9yaWdodENvdW50ICs9IDE7XG4gIH07XG5cbiAgcHVibGljIGluY3JlbWVudFdyb25nQ291bnQgPSAoKTogdm9pZCA9PiB7XG4gICAgdGhpcy5fd3JvbmdDb3VudCArPSAxO1xuICB9O1xuXG4gIHB1YmxpYyByZXNldFNjb3JlID0gKCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX3JpZ2h0Q291bnQgPSAwO1xuICAgIHRoaXMuX3dyb25nQ291bnQgPSAwO1xuICB9O1xufVxuIiwiaW1wb3J0IEFuc3dlciBmcm9tIFwiLi9BbnN3ZXJcIjtcbmltcG9ydCBQcm9ibGVtIGZyb20gXCIuL1Byb2JsZW1cIjtcbmltcG9ydCBTY29yZSBmcm9tIFwiLi9TY29yZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5wdXQge1xuICBwcml2YXRlIF9jdXJyZW50UHJvYmxlbTogUHJvYmxlbTtcbiAgcHJpdmF0ZSBfdXNlclNjb3JlOiBTY29yZTtcbiAgcHJpdmF0ZSBfc3VibWl0U3RhdGU6IGJvb2xlYW47IC8vIEJvb2xlYW4gdG8gY2hlY2sgaWYgdXNlciBoYXMgc3VibWl0dGVkIGFscmVhZHkuXG5cbiAgY29uc3RydWN0b3IocHJvYmxlbTogUHJvYmxlbSkge1xuICAgIHRoaXMuX2N1cnJlbnRQcm9ibGVtID0gcHJvYmxlbTtcbiAgICB0aGlzLl91c2VyU2NvcmUgPSBuZXcgU2NvcmUoKTtcbiAgICB0aGlzLl9zdWJtaXRTdGF0ZSA9IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIG9uU3VibWl0ID0gKCk6IHZvaWQgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1hbnN3ZXJcIikuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgLy8gb25jZSBzdWJtaXR0ZWQsIGNoZWNrIGlmIGFuc3dlciBpcyBjb3JyZWN0ICsgZGlzcGxheSBib3ggd2l0aCBmZWVkYmFja1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAodGhpcy5fc3VibWl0U3RhdGUgPT09IHRydWUpIHJldHVybjtcblxuICAgICAgY29uc3QgYTogQW5zd2VyID0gbmV3IEFuc3dlcih0aGlzLCB0aGlzLl9jdXJyZW50UHJvYmxlbSk7XG4gICAgICBjb25zdCB0aXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpcFwiKTtcblxuICAgICAgaWYgKHRoaXMuZ3JhYklucHV0KCkgPT09IG51bGwpIHtcbiAgICAgICAgdGlwLnRleHRDb250ZW50ID0gXCJZb3UgZGlkbid0IGVudGVyIGEgdmFsdWUhID46KFwiO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChhLmlzQ29ycmVjdCgpKSB7XG4gICAgICAgIHRpcC50ZXh0Q29udGVudCA9IFwiV29haCBlcGljIG1vdmUhXCI7XG4gICAgICAgIHRoaXMuX3VzZXJTY29yZS5pbmNyZW1lbnRSaWdodENvdW50KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aXAudGV4dENvbnRlbnQgPSBcIlNhZGdlIG5vdCByaWdodFwiO1xuICAgICAgICB0aGlzLl91c2VyU2NvcmUuaW5jcmVtZW50V3JvbmdDb3VudCgpO1xuICAgICAgICB0aGlzLl9jdXJyZW50UHJvYmxlbS5wdXNoUXVlc3Rpb25Hb3RXcm9uZyhcbiAgICAgICAgICB0aGlzLl9jdXJyZW50UHJvYmxlbS5xdWVzdGlvblxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRlc3RcIikudGV4dENvbnRlbnQgPSBhLnNvbHV0aW9uO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgXCIudGVzdDJcIlxuICAgICAgKS50ZXh0Q29udGVudCA9IGEuc29sdXRpb24ubGVuZ3RoLnRvU3RyaW5nKCk7XG5cbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnJlc3VsdCBidXR0b25cIilcbiAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRlLXZpc2liaWxpdHlcIik7XG5cbiAgICAgIHRoaXMuX3N1Ym1pdFN0YXRlID0gdHJ1ZTtcbiAgICB9KTtcbiAgfTtcblxuICBwdWJsaWMgc2hvd05leHRRdWVzdGlvbiA9ICgpOiB2b2lkID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlc3VsdCBidXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX3N1Ym1pdFN0YXRlID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuX2N1cnJlbnRQcm9ibGVtLmVyYXNlUHJldmlvdXNRdWVzdGlvbigpO1xuICAgICAgdGhpcy5fY3VycmVudFByb2JsZW0uZ2VuZXJhdGVQcm9ibGVtKCk7XG4gICAgICBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5yZXN1bHQgYnV0dG9uXCIpXG4gICAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZS12aXNpYmlsaXR5XCIpO1xuICAgIH0pO1xuICB9O1xuXG4gIHB1YmxpYyBncmFiSW5wdXQgPSAoKTogc3RyaW5nID0+IHtcbiAgICAvLyBDYXN0IEhUTUxFbGVtZW50IHRvIEhUTUxJbnB1dEVsZW1lbnQgdG8gdXNlIHZhbHVlIHByb3BlcnR5XG4gICAgcmV0dXJuICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItaW5wdXRcIikpLnZhbHVlO1xuICB9O1xufVxuIiwiaW1wb3J0IFByb2JsZW0gZnJvbSBcIi4vY29udHJvbGxlci9Qcm9ibGVtXCI7XG5pbXBvcnQgVXNlckNob2ljZSBmcm9tIFwiLi9jb250cm9sbGVyL1VzZXJDaG9pY2VcIjtcbmltcG9ydCBVc2VySW5wdXQgZnJvbSBcIi4vY29udHJvbGxlci9Vc2VySW5wdXRcIjtcblxuKCgpOiB2b2lkID0+IHtcbiAgY29uc3QgY2hvaWNlczogVXNlckNob2ljZSA9IG5ldyBVc2VyQ2hvaWNlKCk7XG4gIGNvbnN0IHByb2JsZW06IFByb2JsZW0gPSBuZXcgUHJvYmxlbShjaG9pY2VzKTtcblxuICBjb25zdCBpbnB1dDogVXNlcklucHV0ID0gbmV3IFVzZXJJbnB1dChwcm9ibGVtKTtcblxuICBjaG9pY2VzLmNvbmZpcm1DaG9pY2UocHJvYmxlbSk7XG4gIGlucHV0Lm9uU3VibWl0KCk7XG4gIGlucHV0LnNob3dOZXh0UXVlc3Rpb24oKTtcbn0pKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9